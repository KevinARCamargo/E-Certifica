<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>e-Certifica - Certificação Digital ICP-Brasil</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/mobile.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <img src="imagens/logo.png" alt="">
            </div>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            <nav>
                <ul id="mainMenu">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#assinatura">Assinatura</a></li>
                    <li><a href="#cta">Renovação</a></li>
                    <li><a href="#cta">Agendamento</a></li>
                </ul>
            </nav>
            <a href="#assinatura" class="btn btn-primary" id="headerBtn">Compre Agora</a>
        </div>
    </header>

    <!-- Hero Section Modificada -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h1>Sua assinatura, <span class="highlight">sua identidade</span>, sua <span class="highlight">segurança</span>.</h1>
                <p>Somos uma Autoridade de Registro credenciada pela ICP-Brasil, garantindo validade jurídica e segurança para seu certificado digital.</p>
                <div class="hero-btns">
                    <a href="#assinatura" class="btn btn-primary">Compre Agora</a>
                    <a href="https://wa.me/55359844047736" target="_blank" class="btn btn-whatsapp"><i class="fab fa-whatsapp"></i> WhatsApp</a>
                </div>
            </div>
        </div>
        <div class="hero-pattern"></div>
        <div class="hero-security-icon">
            <img src="imagens/logoBranco.png" alt="Logo">
        </div>
    </section>

    <section class="hero-hotsite">

    <!-- FAQ Section -->
    <section class="faq" id="perguntasFrequentes">
        <div class="container">
            <div class="section-title">
                <h2>Perguntas Frequentes</h2>
            </div>
            <div class="faq-list">
                <div class="faq-item">
                    <div class="faq-question">
                        <span>A e-Certifica é confiável?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Sim, pois somos uma Autoridade de Registro credenciada pela ICP-Brasil (Infraestrutura de Chaves Públicas Brasileira). Isso significa que seu certificado tem validade jurídica, segurança garantida e é aceito nos principais órgãos públicos e privados do país.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>O que é um certificado digital?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>O certificado digital é sua identidade eletrônica segura. Com ele, você assina documentos com validade jurídica, acessa sistemas do governo e realiza transações online com autenticidade e sem burocracia — tudo protegido por criptografia e reconhecido por lei.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Quem precisa de um certificado digital?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Pessoas físicas e empresas que assinam documentos digitais, emitem nota fiscal, acessam portais da Receita Federal, eSocial, INSS, entre outros. É essencial para contadores, empresários, advogados, médicos e autônomos.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Quais os tipos de certificados digitais?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>
                            <strong>e-CPF:</strong> Para pessoas físicas acessarem portais como Receita Federal, assinar documentos e muito mais.<br>
                            <strong>e-CNPJ:</strong> Para empresas que precisam cumprir obrigações fiscais e emitir documentos com validade legal.<br>
                            <strong>NF-e:</strong> Exclusivo para emissão de nota fiscal eletrônica em nome da empresa.<br>
                            <strong>Profissional:</strong> Certificados específicos para advogados (OAB), médicos (CRM), contadores (CRC), etc.
                        </p>
                        <p>Cada tipo pode ser emitido nos formatos:</p>
                        <p>
                            <strong>A1:</strong> Arquivo digital, validade de 1 ano<br>
                            <strong>A3:</strong> Cartão, token ou nuvem, com validade de até 5 anos
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

  

    <!-- Steps Section -->
    <section class="steps" id="steps">
        <div class="container">
            <div class="section-title">
                <h2>Como Emitir seu Certificado</h2>
            </div>
            <div class="steps-container">
                <div class="step-item">
                    <div class="step-number">1</div>
                    <h3>Escolha o tipo</h3>
                    <p>Selecione o certificado ideal para suas necessidades</p>
                </div>
                
                <div class="step-item">
                    <div class="step-number">2</div>
                    <h3>Preencha seus dados</h3>
                    <p>Envie os documentos necessários para emissão</p>
                </div>
                
                <div class="step-item">
                    <div class="step-number">3</div>
                    <h3>Validação</h3>
                    <p>Faça a validação presencial ou por videoconferência</p>
                </div>
                
                <div class="step-item">
                    <div class="step-number">4</div>
                    <h3>Pronto!</h3>
                    <p>Seu certificado será gerado e entregue com toda segurança</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Build Your Certificate Section -->
    <section class="build-certificate" id="assinatura">
        <div class="container">
            <div class="section-title">
                <h2>Monte o seu Certificado</h2>
                <p>Personalize seu certificado digital conforme suas necessidades</p>
            </div>
            
            <div class="certificate-builder">
                <div class="builder-step active" data-step="1">
                    <h3>1. Selecione o tipo de certificado</h3>
                    <div class="options-grid">
                        <div class="option-card" data-value="e-CPF">
                            <div class="option-icon">
                                <i class="fas fa-user"></i>
                            </div>
                            <h4>Certificado digital e-CPF</h4>
                            <p>Para Pessoa Física</p>
                            <div class="option-check">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        
                        <div class="option-card" data-value="e-CNPJ">
                            <div class="option-icon">
                                <i class="fas fa-building"></i>
                            </div>
                            <h4>Certificado digital e-CNPJ</h4>
                            <p>Para empresas</p>
                            <div class="option-check">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        
                        <div class="option-card" data-value="e-CNPJ PME">
                            <div class="option-icon">
                                <i class="fas fa-store"></i>
                            </div>
                            <h4>Certificado digital e-CNPJ PME</h4>
                            <p>Para microempresas e empresas de pequeno porte</p>
                            <div class="option-check">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        
                        <div class="option-card" data-value="NF-e">
                            <div class="option-icon">
                                <i class="fas fa-file-invoice"></i>
                            </div>
                            <h4>Certificado digital NF-e</h4>
                            <p>Para empresas</p>
                            <div class="option-check">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        
                        <div class="option-card" data-value="CT-e">
                            <div class="option-icon">
                                <i class="fas fa-truck"></i>
                            </div>
                            <h4>Certificado digital CT-e</h4>
                            <p>Conhecimento de Transporte</p>
                            <div class="option-check">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="builder-step" data-step="2">
                    <h3>2. Selecione o armazenamento</h3>
                    <div class="options-grid" id="storage-options">
                        <!-- Opções serão carregadas dinamicamente -->
                    </div>
                </div>
                
                <div class="builder-step" data-step="3">
                    <h3>3. Selecione a validade</h3>
                    <div class="options-grid" id="validity-options">
                        <!-- Opções serão carregadas dinamicamente -->
                    </div>
                </div>
                
                <div class="builder-summary">
                    <div class="summary-content">
                        <h3>Resumo do seu certificado</h3>
                        <ul class="summary-details">
                            <li><strong>Tipo:</strong> <span id="summary-type">Não selecionado</span></li>
                            <li><strong>Armazenamento:</strong> <span id="summary-storage">Não selecionado</span></li>
                            <li><strong>Validade:</strong> <span id="summary-validity">Não selecionado</span></li>
                        </ul>
                        <div class="summary-total">
                            <h4>Total:</h4>
                            <span id="summary-price">R$ 0,00</span>
                        </div>
                    </div>
                </div>
                
                <div class="builder-navigation">
                    <button class="btn btn-outline" id="prev-btn" disabled>
                        <i class="fas fa-arrow-left prolado"></i> Anterior
                    </button>
                    <button class="btn btn-primary" id="next-btn">
                        Próximo <i class="fas fa-arrow-right prolado" ></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta" id="cta">
        <div class="container">
            <div class="section-title">
                <h2>Como Podemos Ajudar?</h2>
                <p>Nossa equipe especializada está pronta para oferecer suporte e soluções para suas necessidades de certificação digital</p>
            </div>
            
            <div class="cta-cards">
                <div class="cta-card">
                    <div class="card-icon">
                        <i class="fas fa-headset"></i>
                    </div>
                    <h3 class="card-title">Suporte Técnico</h3>
                    <p class="card-description">Principais duvidas e suporte para instalação</p>
                    <a href="https://suporte.certisign.com.br/duvidas-suporte/instalacao/" target="_blank" class="btn btn-support">
                        <i class="fas fa-comments"></i> Acessar Suporte
                    </a>
                </div>
                
                <div class="cta-card">
                    <div class="card-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <h3 class="card-title">Agendamento</h3>
                    <p class="card-description">Agende sua validação presencial ou por videoconferência de forma rápida</p>
                    <a href="https://wa.me/55359844047736" target="_blank" class="btn btn-schedule">
                        <i class="fas fa-clock"></i> Agendar Agora
                    </a>
                </div>
                
                <div class="cta-card">
                    <div class="card-icon">
                        <i class="fas fa-sync-alt"></i>
                    </div>
                    <h3 class="card-title">Renovação</h3>
                    <p class="card-description">Renove seu certificado digital com facilidade antes do vencimento</p>
                    <a href="https://wa.me/55359844047736" target="_blank" class="btn btn-renew">
                        <i class="fas fa-redo"></i> Renovar Certificado
                    </a>
                </div>
            </div>
            
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact" id="contact">
        <div class="container">
            <div class="section-title">
                <h2>Entre em Contato</h2>
            </div>
            <div class="contact-container">
                <div class="contact-info">
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-text">
                            <h4>Endereço</h4>
                            <p>Tv. Lemos, 180, Sala 1, Centro<br>Pratápolis, MG, 37970-000</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone-alt"></i>
                        </div>
                        <div class="contact-text">
                            <h4>Telefone/WhatsApp</h4>
                            <p>+55 35 984404-7736</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-text">
                            <h4>Email</h4>
                            <p>flaviocardoso@e-certifica.com</p>
                        </div>
                    </div>
                    
                    <div class="social-links">
                        <a href="https://www.instagram.com/e_certifica" target="_blank"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div class="map-container">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3722.624558392141!2d-46.37622368554544!3d-21.0513483827611!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94b63f9a7b2d0d0d%3A0x9b3b4b1b3b4b1b3b!2sTv.%20Lemos%2C%20180%20-%20Centro%2C%20Prat%C3%A1polis%20-%20MG%2C%2037970-000!5e0!3m2!1spt-BR!2sbr!4v1630000000000!5m2!1spt-BR!2sbr" allowfullscreen="" loading="lazy"></iframe>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-col">
                    <h3>e-Certifica</h3>
                    <p>Autoridade de Registro credenciada pela ICP-Brasil, garantindo validade jurídica e segurança para seu certificado digital.</p>
                    <div class="social-links">
                        <a href="https://www.instagram.com/e_certifica" target="_blank"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div class="footer-col">
                    <h3>Links Rápidos</h3>
                    <ul class="footer-links">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#perguntasFrequentes">Perguntas Frequentes</a></li>
                        <li><a href="#steps">Passos</a></li>
                        <li><a href="#cta">Ajuda</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h3>Certificados</h3>
                    <ul class="footer-links">
                        <li><a href="#assinatura">e-CPF</a></li>
                        <li><a href="#assinatura">e-CNPJ</a></li>
                        <li><a href="#assinatura">NF-e</a></li>
                        <li><a href="#cta">Renovação</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h3>Suporte</h3>
                    <ul class="footer-links">
                        <li><a href="#cta">Dúvidas Frequentes</a></li>
                        <li><a href="#cta">Agendamento</a></li>
                        <li><a href="#cta">Instalação</a></li>
                        <li><a href="#contact">Contato</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2025 e-Certifica. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile Menu Toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mainMenu = document.getElementById('mainMenu');
        
        mobileMenuBtn.addEventListener('click', () => {
            mainMenu.classList.toggle('active');
            mobileMenuBtn.innerHTML = mainMenu.classList.contains('active') 
                ? '<i class="fas fa-times"></i>' 
                : '<i class="fas fa-bars"></i>';
        });
        
        // FAQ Accordion
        const faqItems = document.querySelectorAll('.faq-item');
        
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            
            question.addEventListener('click', () => {
                // Close all other items
                faqItems.forEach(otherItem => {
                    if (otherItem !== item) {
                        otherItem.classList.remove('active');
                    }
                });
                
                // Toggle current item
                item.classList.toggle('active');
            });
        });
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                    
                    // Close mobile menu if open
                    if (mainMenu.classList.contains('active')) {
                        mainMenu.classList.remove('active');
                        mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                    }
                }
            });
        });
        
        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.style.boxShadow = '0 2px 10px rgba(0,0,0,0.1)';
                header.style.background = 'rgba(255, 255, 255, 0.95)';
            } else {
                header.style.boxShadow = '0 2px 10px rgba(0,0,0,0.1)';
                header.style.background = 'var(--white)';
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
    // Builder steps navigation
    const steps = document.querySelectorAll('.builder-step');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const finalizeBtn = document.getElementById('finalize-btn');
    const summarySection = document.querySelector('.builder-summary');
    
    let currentStep = 1;
    const totalSteps = steps.length;
    
    // Selected options
    const selectedOptions = {
        type: null,
        storage: null,
        validity: null
    };
    
    // Prices for validity options
    const prices = {
        '12 meses': 324.40,
        '36 meses': 412.40
    };
    
    // Navigation functions
    function updateNavigation() {
        prevBtn.disabled = currentStep === 1;
        
        if (currentStep === totalSteps) {
            nextBtn.style.display = 'none';
            finalizeBtn.style.display = 'inline-block';
            showSummary();
        } else {
            nextBtn.style.display = 'inline-block';
            finalizeBtn.style.display = 'none';
            summarySection.classList.remove('show');
        }
    }
    
    function showStep(step) {
        steps.forEach(s => s.classList.remove('active'));
        document.querySelector(`.builder-step[data-step="${step}"]`).classList.add('active');
        currentStep = step;
        updateNavigation();
    }
    
    function showSummary() {
        document.getElementById('summary-type').textContent = selectedOptions.type || 'Não selecionado';
        document.getElementById('summary-storage').textContent = selectedOptions.storage || 'Não selecionado';
        document.getElementById('summary-validity').textContent = selectedOptions.validity || 'Não selecionado';
        
        if (selectedOptions.validity && prices[selectedOptions.validity]) {
            document.getElementById('summary-price').textContent = `R$ ${prices[selectedOptions.validity].toFixed(2)}`;
        } else {
            document.getElementById('summary-price').textContent = 'R$ 0,00';
        }
        
        summarySection.classList.add('show');
    }
    
    // Event listeners for navigation
    nextBtn.addEventListener('click', function() {
        if (currentStep < totalSteps) {
            showStep(currentStep + 1);
        }
    });
    
    prevBtn.addEventListener('click', function() {
        if (currentStep > 1) {
            showStep(currentStep - 1);
        }
    });
    
    // Option selection
    document.querySelectorAll('.option-card').forEach(card => {
        card.addEventListener('click', function() {
            const step = this.closest('.builder-step').dataset.step;
            const value = this.dataset.value;
            
            // Remove selected class from siblings
            this.parentNode.querySelectorAll('.option-card').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            this.classList.add('selected');
            
            // Store selected value
            if (step === '1') {
                selectedOptions.type = value;
            } else if (step === '2') {
                selectedOptions.storage = value;
            } else if (step === '3') {
                selectedOptions.validity = value;
            }
            
            // Enable next button if on step 1 or 2
            if (currentStep < 3) {
                nextBtn.disabled = false;
            }
        });
    });
    
    // Finalize button
    finalizeBtn.addEventListener('click', function() {
        // Here you would typically submit the form or redirect to checkout
        alert('Pedido finalizado! Redirecionando para o checkout...');
        console.log('Selected options:', selectedOptions);
    });
    
    // Initialize
    showStep(1);
    finalizeBtn.style.display = 'none';
});

        document.addEventListener('DOMContentLoaded', function() {
            // Dados completos baseados nos links fornecidos
            const products = {
                // e-CPF
                "e-CPF": {
                    "No celular (A1)": {
                        "12 meses": { price: 186.90, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA1PFR107&grupo=PUBLI&cod_rev=110256" }
                    },
                    "No computador (A1)": {
                        "12 meses": { price: 128.96, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA1PFR104&grupo=ESPED&cod_rev=110256" }
                    },
                    "Na nuvem (A3)": {
                        "12 meses": { price: 207.81, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PFRRID105&grupo=CPBRB&cod_rev=110256" },
                        "36 meses": { price: 291.96, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PFRRID305&grupo=CPBRB&cod_rev=110256" }
                    },
                    "Certificado + token (A3)": {
                        "12 meses": { price: 291.96, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PFR103&grupo=CPBRB&cod_rev=110256" },
                        "36 meses": { price: 371.16, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PFR303&grupo=CPBRB&cod_rev=110256" }
                    },
                    "Certificado + cartão e leitora (A3)": {
                        "12 meses": { price: 291.96, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PFR102&grupo=CPBRB&cod_rev=110256" },
                        "36 meses": { price: 371.16, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PFR302&grupo=CPBRB&cod_rev=110256" }
                    },
                    "Certificado + cartão (A3)": {
                        "12 meses": { price: 173.16, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PFR101&grupo=CPBRB&cod_rev=110256" },
                        "36 meses": { price: 247.41, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PFR301&grupo=CPBRB&cod_rev=110256" }
                    },
                    "Certificado necessário token/cartão (A3)": {
                        "12 meses": { price: 168.21, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PFR100&grupo=CPBRB&cod_rev=110256" },
                        "36 meses": { price: 227.61, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PFR300&grupo=CPBRB&cod_rev=110256" }
                    }
                },
                
                // e-CNPJ
                "e-CNPJ": {
                    "No celular (A1)": {
                        "12 meses": { price: 274.90, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA1PJR107&grupo=PUBLI&cod_rev=110256" }
                    },
                    "No computador (A1)": {
                        "12 meses": { price: 189.68, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA1PJR104&grupo=ESPED&cod_rev=110256" }
                    },
                    "Na nuvem (A3)": {
                        "12 meses": { price: 291.96, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJRRID105&grupo=CPBRB&cod_rev=110256" },
                        "36 meses": { price: 376.11, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJRRID305&grupo=CPBRB&cod_rev=110256" }
                    },
                    "Certificado + token (A3)": {
                        "12 meses": { price: 356.31, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJR103&grupo=CPBRB&cod_rev=110256" },
                        "24 meses": { price: 405.81, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJR203&grupo=CPBRB&cod_rev=110256" },
                        "36 meses": { price: 460.26, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJR303&grupo=CPBRB&cod_rev=110256" }
                    },
                    "Certificado + cartão e leitora (A3)": {
                        "12 meses": { price: 356.31, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJR102&grupo=CPBRB&cod_rev=110256" },
                        "24 meses": { price: 405.81, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJR202&grupo=CPBRB&cod_rev=110256" },
                        "36 meses": { price: 460.26, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJR302&grupo=CPBRB&cod_rev=110256" }
                    },
                    "Certificado + cartão (A3)": {
                        "12 meses": { price: 237.51, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJR101&grupo=CPBRB&cod_rev=110256" },
                        "24 meses": { price: 301.86, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJR201&grupo=CPBRB&cod_rev=110256" },
                        "36 meses": { price: 341.46, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJR301&grupo=CPBRB&cod_rev=110256" }
                    },
                    "Certificado necessário token/cartão (A3)": {
                        "12 meses": { price: 247.41, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJR100&grupo=CPBRB&cod_rev=110256" },
                        "24 meses": { price: 277.11, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJR200&grupo=CPBRB&cod_rev=110256" },
                        "36 meses": { price: 316.71, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJR300&grupo=CPBRB&cod_rev=110256" }
                    }
                },
                
                // e-CNPJ PME
                "e-CNPJ PME": {
                    "No computador (A1)": {
                        "12 meses": { price: 219.90, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA1PJRPE104&grupo=PUBLI&cod_rev=110256" }
                    },
                    "Certificado + token (A3)": {
                        "18 meses": { price: 373.90, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJRPE1803&grupo=PUBLI&cod_rev=110256" }
                    },
                    "Certificado necessário token/cartão (A3)": {
                        "18 meses": { price: 203.40, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJRPE1800&grupo=PUBLI&cod_rev=110256" },
                        "36 meses": { price: 274.90, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJRPE300&grupo=PUBLI&cod_rev=110256" }
                    }
                },
                
                // NF-e
                "NF-e": {
                    "No computador (A1)": {
                        "12 meses": { price: 258.40, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA1PJMNFE104&grupo=ACMVR&cod_rev=110256" }
                    },
                    "Certificado + cartão/leitora (A3)": {
                        "36 meses": { price: 494.90, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJMNFE302&grupo=ACMVR&cod_rev=110256" }
                    },
                    "Certificado + cartão (A3)": {
                        "36 meses": { price: 395.90, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJMNFE301&grupo=ACMVR&cod_rev=110256" }
                    },
                    "Certificado + token (A3)": {
                        "36 meses": { price: 494.90, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJMNFE303&grupo=ACMVR&cod_rev=110256" }
                    },
                    "Certificado necessário token/cartão (A3)": {
                        "36 meses": { price: 368.40, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJMNFE300&grupo=ACMVR&cod_rev=110256" }
                    }
                },
                
                // CT-e
                "CT-e": {
                    "No computador (A1)": {
                        "12 meses": { price: 258.40, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA1PJMCTE104&grupo=ACMVR&cod_rev=110256" }
                    },
                    "Certificado + token (A3)": {
                        "36 meses": { price: 555.40, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJMCTE303&grupo=ACMVR&cod_rev=110256" }
                    },
                    "Certificado + cartão e leitora (A3)": {
                        "36 meses": { price: 555.40, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJMCTE302&grupo=ACMVR&cod_rev=110256" }
                    },
                    "Certificado + cartão (A3)": {
                        "36 meses": { price: 395.90, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJMCTE301&grupo=ACMVR&cod_rev=110256" }
                    },
                    "Certificado necessário token/cartão (A3)": {
                        "36 meses": { price: 368.40, link: "https://pagamento.certisign.com.br/productRedirect?produto=EX-CERA3PJMCTE300&grupo=ACMVR&cod_rev=110256" }
                    }
                }
            };

            // Elementos DOM
            const storageOptions = document.getElementById('storage-options');
            const validityOptions = document.getElementById('validity-options');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const steps = document.querySelectorAll('.builder-step');
            const progressSteps = document.querySelectorAll('.progress-step');
            
            // Estado
            let currentStep = 1;
            let selectedType = '';
            let selectedStorage = '';
            let selectedValidity = '';
            let selectedLink = '';

            // Mapeamento de ícones para armazenamento
            const storageIcons = {
                'No celular (A1)': 'mobile-alt',
                'No computador (A1)': 'laptop',
                'Na nuvem (A3)': 'cloud',
                'Certificado + token (A3)': 'key',
                'Certificado + cartão e leitora (A3)': 'id-card',
                'Certificado + cartão (A3)': 'credit-card',
                'Certificado necessário token/cartão (A3)': 'microchip',
                'Certificado + cartão/leitora (A3)': 'id-card'
            };

            // Atualizar resumo
            function updateSummary() {
                document.getElementById('summary-type').textContent = selectedType || 'Não selecionado';
                document.getElementById('summary-storage').textContent = selectedStorage || 'Não selecionado';
                document.getElementById('summary-validity').textContent = selectedValidity || 'Não selecionado';
                
                if (selectedType && selectedStorage && selectedValidity) {
                    const price = products[selectedType][selectedStorage][selectedValidity].price;
                    document.getElementById('summary-price').textContent = `R$ ${price.toFixed(2).replace('.', ',')}`;
                    selectedLink = products[selectedType][selectedStorage][selectedValidity].link;
                } else {
                    document.getElementById('summary-price').textContent = 'R$ 0,00';
                }
            }

            // Atualizar barra de progresso
            function updateProgressBar() {
                progressSteps.forEach(step => {
                    const stepNum = parseInt(step.dataset.step);
                    step.classList.remove('active', 'completed');
                    
                    if (stepNum < currentStep) {
                        step.classList.add('completed');
                    } else if (stepNum === currentStep) {
                        step.classList.add('active');
                    }
                });
            }

            // Renderizar opções de armazenamento
            function renderStorageOptions() {
                storageOptions.innerHTML = '';
                
                if (!selectedType || !products[selectedType]) return;
                
                Object.keys(products[selectedType]).forEach(storage => {
                    const card = document.createElement('div');
                    card.className = 'option-card';
                    card.dataset.value = storage;
                    
                    card.innerHTML = `
                        <div class="option-icon">
                            <i class="fas fa-${storageIcons[storage] || 'hdd'}"></i>
                        </div>
                        <h4>${storage}</h4>
                        <div class="option-check">
                            <i class="fas fa-check"></i>
                        </div>
                    `;
                    
                    storageOptions.appendChild(card);
                });
            }

            // Renderizar opções de validade
            function renderValidityOptions() {
                validityOptions.innerHTML = '';
                
                if (!selectedType || !selectedStorage || !products[selectedType][selectedStorage]) return;
                
                Object.keys(products[selectedType][selectedStorage]).forEach(validity => {
                    const price = products[selectedType][selectedStorage][validity].price;
                    
                    const card = document.createElement('div');
                    card.className = 'option-card';
                    card.dataset.value = validity;
                    
                    card.innerHTML = `
                        <div class="option-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <h4>${validity}</h4>
                        <p class="price">À vista: R$ ${price.toFixed(2).replace('.', ',')}</p>
                        <div class="option-check">
                            <i class="fas fa-check"></i>
                        </div>
                    `;
                    
                    validityOptions.appendChild(card);
                });
            }

            // Navegação entre passos
            function goToStep(step) {
                steps.forEach(s => s.classList.remove('active'));
                document.querySelector(`.builder-step[data-step="${step}"]`).classList.add('active');
                currentStep = step;
                
                // Atualizar estado dos botões
                prevBtn.disabled = (step === 1);
                
                // Se estiver no último passo (3), mudar o botão próximo para "Finalizar"
                if (step === 3) {
                    nextBtn.innerHTML = 'Finalizar <i class="fas fa-check"></i>';
                    nextBtn.disabled = !selectedValidity;
                } else {
                    nextBtn.innerHTML = 'Próximo <i class="fas fa-arrow-right"></i>';
                    nextBtn.disabled = false;
                }
                
                updateProgressBar();
            }

            // Selecionar opção
            function selectOption(step, value) {
                // Remover seleção anterior
                document.querySelectorAll(`.builder-step[data-step="${step}"] .option-card`).forEach(card => {
                    card.classList.remove('selected');
                });
                
                // Adicionar seleção atual
                const currentCard = document.querySelector(`.builder-step[data-step="${step}"] .option-card[data-value="${value}"]`);
                if (currentCard) {
                    currentCard.classList.add('selected');
                }
            }

            // Event Listeners
            document.querySelectorAll('.builder-step[data-step="1"] .option-card').forEach(card => {
                card.addEventListener('click', () => {
                    selectedType = card.dataset.value;
                    selectedStorage = '';
                    selectedValidity = '';
                    selectOption(1, selectedType);
                    renderStorageOptions();
                    updateSummary();
                    goToStep(2);
                });
            });

            storageOptions.addEventListener('click', (e) => {
                const card = e.target.closest('.option-card');
                if (card) {
                    selectedStorage = card.dataset.value;
                    selectedValidity = '';
                    selectOption(2, selectedStorage);
                    renderValidityOptions();
                    updateSummary();
                    goToStep(3);
                }
            });

            validityOptions.addEventListener('click', (e) => {
                const card = e.target.closest('.option-card');
                if (card) {
                    selectedValidity = card.dataset.value;
                    selectOption(3, selectedValidity);
                    updateSummary();
                    // Habilitar o botão de finalizar
                    nextBtn.disabled = false;
                }
            });

            prevBtn.addEventListener('click', () => {
                if (currentStep > 1) goToStep(currentStep - 1);
            });

            nextBtn.addEventListener('click', () => {
                if (currentStep === 1) {
                    if (selectedType) {
                        goToStep(2);
                    } else {
                        alert('Por favor, selecione um tipo de certificado');
                    }
                } else if (currentStep === 2) {
                    if (selectedStorage) {
                        goToStep(3);
                    } else {
                        alert('Por favor, selecione um tipo de armazenamento');
                    }
                } else if (currentStep === 3) {
                    if (selectedLink) {
                        // Abre o link em nova guia
                        window.open(selectedLink, '_blank', 'noopener,noreferrer');
                        
                        // Reseta o construtor para a primeira etapa
                        selectedType = '';
                        selectedStorage = '';
                        selectedValidity = '';
                        selectedLink = '';
                        
                        // Limpa seleções visuais
                        clearSelections();
                        
                        // Atualiza o resumo
                        updateSummary();
                        
                        // Volta para o passo 1
                        goToStep(1);
                    } else {
                        alert('Por favor, selecione uma validade antes de finalizar');
                    }
                }
            });

            // Função para limpar seleções visuais
            function clearSelections() {
                document.querySelectorAll('.option-card.selected').forEach(card => {
                    card.classList.remove('selected');
                });
            }

            // Inicialização
            updateSummary();
            updateProgressBar();
        });
    </script>
</body>
</html>